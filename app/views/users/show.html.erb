  <h1>My Bookmarks</h1>
  <div class="topic-box">

    <% @topics.each do |topic| %>

      <h2><%= topic.title %></h2>
      <!-- &: guarded invocation safe navigation operator (rails, read up later)
         @user_bookmarks_by_topic_id[topic.id]&.each_slice(3) do |bookmarks| -->
      <% bookmarks_for_topic = @user_bookmarks_by_topic_id[topic.id] %>
      <% if bookmarks_for_topic %>
        <% bookmarks_for_topic.each_slice(3) do |bookmarks| %>

          <div class="row">
            <% bookmarks.each do |b|%>
              <div class="col-sm bookmark-box">
                <%= link_to b.url, topic_bookmark_path(topic, b)%>
              </div>
            <% end %>
          </div>

        <% end %>
      <% else %>
        <p> No bookmarks was made in this topic </p>
      <% end %>
    <% end %>
  </div>

<h1>Liked Bookmarks</h1>

<div class="topic-box">

  <% @topics.each do |topic| %>

    <h2><%= topic.title %></h2>
    <% @user_liked_bookmarks_by_topic_id[topic.id]&.each_slice(3) do |bookmarks| %>
        <div class="row">
          <% bookmarks.each do |bookmark|%>
            <div class="col-sm bookmark-box">
              <%= link_to bookmark.url, topic_bookmark_path(topic, bookmark)%>
              <%= render partial: 'likes/like', locals: { bookmark: bookmark } %>
            </div>
          <% end %>
        </div>
    <% end %>

  <% end %>
</div>
